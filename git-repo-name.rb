# frozen_string_literal: true

# This file was generated by https://github.com/petrgazarov/git-repo-name/blob/master/.github/workflows/release_packages.yml
class GitRepoName < Formula
  desc "Sync git repository names between remote and local"
  homepage "https://github.com/petrgazarov/git-repo-name"
  version "0.1.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/petrgazarov/git-repo-name/releases/download/0.1.0/git-repo-name-0.1.0-x86_64-apple-darwin"
      sha256 "de7237eb9766c334b1565f86408e78f191d2914c7805cda0bcbe0f5fe1b2be1a"
    end

    if Hardware::CPU.arm?
      url "https://github.com/petrgazarov/git-repo-name/releases/download/0.1.0/git-repo-name-0.1.0-aarch64-apple-darwin"
      sha256 "507e1359c32153b30711f935844f0a96129c587e6ccc8df39956c5b7aac65a25"
    end

    def install
      if Hardware::CPU.intel?
        filename = File.basename("https://github.com/petrgazarov/git-repo-name/releases/download/0.1.0/git-repo-name-0.1.0-x86_64-apple-darwin")
        bin.install filename => "git-repo-name"
      end

      if Hardware::CPU.arm?
        filename = File.basename("https://github.com/petrgazarov/git-repo-name/releases/download/0.1.0/git-repo-name-0.1.0-aarch64-apple-darwin")
        bin.install filename => "git-repo-name"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/petrgazarov/git-repo-name/releases/download/0.1.0/git-repo-name-0.1.0-aarch64-unknown-linux-gnu"
      sha256 "25655d071e2c06b37e7b5f8e9829f28c3132f15268548bf4b8e721f79ba8e3e9"
    end

    if Hardware::CPU.intel?
      url "https://github.com/petrgazarov/git-repo-name/releases/download/0.1.0/git-repo-name-0.1.0-x86_64-unknown-linux-gnu"
      sha256 "04a1835940997cecb4fc8c214d56bac2cba7ddd371330bb959d9ab5e711c0360"
    end

    def install
      if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
        filename = File.basename("https://github.com/petrgazarov/git-repo-name/releases/download/0.1.0/git-repo-name-0.1.0-aarch64-unknown-linux-gnu")
        bin.install filename => "git-repo-name"
      end

      if Hardware::CPU.intel?
        filename = File.basename("https://github.com/petrgazarov/git-repo-name/releases/download/0.1.0/git-repo-name-0.1.0-x86_64-unknown-linux-gnu")
        bin.install filename => "git-repo-name"
      end
    end
  end

  test do
    system "#{bin}/git-repo-name", "--version"
  end
end 